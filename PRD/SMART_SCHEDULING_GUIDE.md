# 智慧排程功能使用指南

## 功能概述

智慧排程功能現在可以自動將複雜任務分解為子任務，並將這些子任務創建為獨立的 Todo 項目。

## 使用流程

### 1. 編輯任務
1. 點擊任務旁的編輯按鈕
2. 在智慧任務編輯器中填寫基本資訊：
   - 任務內容
   - 優先級
   - 截止日期（必需）
   - 所屬專案

### 2. 配置智慧排程
1. 切換到「🍅 智慧排程」分頁
2. 設定排程參數：
   - **預估番茄鐘數量**：任務預計需要多少個番茄鐘（25分鐘/個）
   - **每日最大番茄鐘**：每天最多安排多少個番茄鐘
   - **偏好開始時間**：希望從什麼時間開始工作

### 3. 生成智慧排程
1. 點擊「🚀 生成智慧排程」按鈕
2. 系統會自動：
   - 分析任務複雜度
   - 建議子任務分解（如果任務足夠複雜）
   - 生成時間分配方案
   - 顯示排程預覽

### 4. 確認並應用排程
1. 檢查排程預覽結果
2. 點擊「✅ 確認並應用此排程」
3. 系統會：
   - 創建子任務為獨立的 Todo 項目
   - 自動分配截止日期
   - 顯示確認訊息

## 子任務管理

### 子任務命名格式
生成的子任務會使用以下命名格式：
```
📝 [子任務名稱] ([父任務名稱] 的子任務 X/Y)
```

例如：
- `📝 需求分析與研究 (產品設計任務 的子任務 1/4)`
- `📝 概念設計與草圖 (產品設計任務 的子任務 2/4)`

### 子任務特性
- **獨立編輯**：每個子任務都是獨立的 Todo 項目，可以單獨編輯
- **自動排程**：根據父任務截止日期，子任務會被合理分配到不同日期
- **優先級繼承**：子任務會根據內容複雜度分配合適的優先級
- **專案關聯**：子任務會自動關聯到與父任務相同的專案

### 子任務截止日期分配
- 系統會將子任務按順序分配到父任務截止日期之前的日期
- 每個子任務間隔一天，確保有足夠時間完成
- 例如：如果父任務3天後到期，有3個子任務，它們會分別安排在第1天、第2天、第3天

## 支援的任務類型

### 設計任務
包含關鍵字：「設計」、「design」
自動分解為：
1. 需求分析與研究 (20%)
2. 概念設計與草圖 (30%)
3. 詳細設計與原型 (40%)
4. 設計驗證與調整 (10%)

### 開發任務
包含關鍵字：「開發」、「實作」
自動分解為：
1. 需求分析與架構設計 (25%)
2. 核心功能開發 (50%)
3. 測試與除錯 (20%)
4. 文檔與部署 (5%)

### 通用任務
其他任務類型會使用通用分解策略：
1. 準備與規劃 (25%)
2. 核心執行 (50%)
3. 檢查與完善 (25%)

## 在哪裡查看子任務

### 任務列表視圖
- 生成的子任務會出現在主要任務列表中
- 可以通過標題識別（包含父任務資訊）
- 支援所有標準操作：編輯、刪除、標記完成

### 行事曆視圖
- 有截止日期的子任務會顯示在行事曆中
- 可以看到整個專案的時間線
- 方便進行時間管理

## 注意事項

1. **截止日期必需**：智慧排程功能需要設定截止日期才能工作
2. **任務複雜度**：只有預估超過4個番茄鐘的任務才會被建議分解為子任務
3. **編輯自由**：生成的子任務可以自由編輯，包括更改名稱、優先級、截止日期等
4. **父子關聯**：目前子任務通過命名格式與父任務關聯，未來可能會加入更強的關聯機制

## 故障排除

### 子任務沒有生成
- 確保任務設定了截止日期
- 檢查任務是否預估超過4個番茄鐘
- 查看瀏覽器控制台是否有錯誤訊息

### 子任務看不到
- 檢查當前的專案篩選設定
- 確保子任務沒有被其他篩選條件隱藏
- 在「今日任務」或「所有任務」視圖中查看