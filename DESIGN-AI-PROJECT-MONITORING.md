# AI å°ˆæ¡ˆç›£æ§èˆ‡ç”Ÿç”¢åŠ›ç³»çµ±è¨­è¨ˆè¦æ ¼

## ç³»çµ±æ¦‚è¿°

è¨­è¨ˆä¸€å€‹æ™ºèƒ½å°ˆæ¡ˆç®¡ç†å¢å¼·ç³»çµ±ï¼Œçµåˆ AI åˆ†æã€ç•ªèŒ„é˜å·¥ä½œæ³•ã€å¥åº·æé†’å’Œæ—¥æ›†æ•´åˆï¼Œå¹«åŠ©ç”¨æˆ¶é¿å…æœ€å¾Œä¸€åˆ»å®Œæˆå°ˆæ¡ˆçš„å£“åŠ›ã€‚

## æ ¸å¿ƒéœ€æ±‚åˆ†æ

### 1. AI å°ˆæ¡ˆç›£æ§éœ€æ±‚
- **æ™ºèƒ½åˆ†æ**: æª¢è¦–å°ˆæ¡ˆé€²åº¦å’Œæ™‚é–“åˆ†é…
- **é¢¨éšªè©•ä¼°**: è­˜åˆ¥å¯èƒ½å»¶é²çš„å°ˆæ¡ˆ
- **æé†’æ©Ÿåˆ¶**: ä¸»å‹•æé†’ç”¨æˆ¶é—œæ³¨å„ªå…ˆäº‹é …
- **å­¸ç¿’æ¨¡å¼**: åŸºæ–¼ç”¨æˆ¶ç¿’æ…£å„ªåŒ–å»ºè­°

### 2. ç•ªèŒ„é˜è¨ˆæ™‚å™¨éœ€æ±‚
- **å·¥ä½œæœƒè©±**: 25åˆ†é˜å°ˆæ³¨å·¥ä½œæ™‚é–“
- **ä¼‘æ¯æé†’**: çŸ­ä¼‘æ¯(5åˆ†é˜)å’Œé•·ä¼‘æ¯(15-30åˆ†é˜)
- **å¥åº·æé†’**: èµ·èº«æ´»å‹•ã€çœ¼éƒ¨ä¼‘æ¯
- **éŸ³æ•ˆç³»çµ±**: å¯è‡ªå®šç¾©çš„æé†’éŸ³æ•ˆ

### 3. æ—¥æ›†æ•´åˆéœ€æ±‚
- **ç°¡åŒ–ä»‹é¢**: æ˜“æ–¼ç†è§£çš„æ–‡å­—æé†’
- **å°ˆæ¡ˆé—œè¯**: å°‡æ—¥æ›†äº‹ä»¶èˆ‡å°ˆæ¡ˆé€£çµ
- **æˆªæ­¢æ—¥æœŸ**: è¦–è¦ºåŒ–å°ˆæ¡ˆé‡Œç¨‹ç¢‘
- **æ™‚é–“å®‰æ’**: æ™ºèƒ½å»ºè­°æœ€ä½³å·¥ä½œæ™‚é–“

## ç³»çµ±æ¶æ§‹è¨­è¨ˆ

### æ ¸å¿ƒæ¨¡çµ„æ¶æ§‹

```
æ™ºèƒ½å°ˆæ¡ˆç›£æ§ç³»çµ±
â”œâ”€â”€ AI åˆ†æå¼•æ“
â”‚   â”œâ”€â”€ é€²åº¦åˆ†æå™¨
â”‚   â”œâ”€â”€ é¢¨éšªè©•ä¼°å™¨
â”‚   â”œâ”€â”€ å»ºè­°ç”Ÿæˆå™¨
â”‚   â””â”€â”€ å­¸ç¿’ç®—æ³•
â”œâ”€â”€ ç•ªèŒ„é˜ç³»çµ±
â”‚   â”œâ”€â”€ è¨ˆæ™‚å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ æœƒè©±ç®¡ç†
â”‚   â”œâ”€â”€ å¥åº·æé†’
â”‚   â””â”€â”€ éŸ³æ•ˆæ§åˆ¶
â”œâ”€â”€ æ—¥æ›†ç³»çµ±
â”‚   â”œâ”€â”€ äº‹ä»¶ç®¡ç†
â”‚   â”œâ”€â”€ å°ˆæ¡ˆæ•´åˆ
â”‚   â”œâ”€â”€ æé†’å¼•æ“
â”‚   â””â”€â”€ è¦–è¦ºåŒ–çµ„ä»¶
â””â”€â”€ é€šçŸ¥ç³»çµ±
    â”œâ”€â”€ å³æ™‚é€šçŸ¥
    â”œâ”€â”€ æ’ç¨‹é€šçŸ¥
    â”œâ”€â”€ å„ªå…ˆç´šç®¡ç†
    â””â”€â”€ ç”¨æˆ¶åå¥½
```

## æ•¸æ“šæ¨¡å‹è¨­è¨ˆ

### AI ç›£æ§æ•¸æ“šæ¨¡å‹

```typescript
// AI å°ˆæ¡ˆåˆ†ææ•¸æ“š
interface ProjectAnalysis {
  id: string
  projectId: string
  userId: string
  analysisDate: Date
  
  // é€²åº¦æŒ‡æ¨™
  progressMetrics: {
    completionRate: number        // å®Œæˆç‡ (0-1)
    velocity: number             // ä»»å‹™å®Œæˆé€Ÿåº¦ (ä»»å‹™/å¤©)
    burndownRate: number         // ç‡ƒç›¡åœ–æ–œç‡
    timeRemaining: number        // å‰©é¤˜å¤©æ•¸
  }
  
  // é¢¨éšªè©•ä¼°
  riskAssessment: {
    overallRisk: 'low' | 'medium' | 'high' | 'critical'
    delayProbability: number     // å»¶é²æ©Ÿç‡ (0-1)
    riskFactors: string[]        // é¢¨éšªå› ç´ åˆ—è¡¨
    recommendations: string[]     // AI å»ºè­°
  }
  
  // æ¨¡å¼è­˜åˆ¥
  patterns: {
    workingHours: { start: number; end: number }
    productiveDay: string[]      // é«˜æ•ˆå·¥ä½œæ—¥
    taskDifficulty: Record<string, number>
    procrastinationTrend: number // æ‹–å»¶è¶¨å‹¢
  }
  
  // ä¸‹æ¬¡åˆ†ææ™‚é–“
  nextAnalysis: Date
}

// AI å»ºè­°ç³»çµ±
interface AIRecommendation {
  id: string
  userId: string
  projectId?: string
  type: 'task_priority' | 'schedule_adjustment' | 'break_reminder' | 'health_alert'
  
  priority: 'low' | 'medium' | 'high' | 'urgent'
  title: string
  message: string
  actionable: boolean
  
  // å»ºè­°è¡Œå‹•
  suggestedActions: {
    type: 'reschedule' | 'add_task' | 'take_break' | 'focus_session'
    parameters: Record<string, any>
  }[]
  
  // é¡¯ç¤ºæ§åˆ¶
  displayUntil: Date
  dismissed: boolean
  createdAt: Date
}
```

### ç•ªèŒ„é˜æ•¸æ“šæ¨¡å‹

```typescript
// ç•ªèŒ„é˜æœƒè©±
interface PomodoroSession {
  id: string
  userId: string
  projectId?: string
  taskId?: string
  
  // æœƒè©±é…ç½®
  settings: {
    workDuration: number        // å·¥ä½œæ™‚é–“ (åˆ†é˜)
    shortBreakDuration: number  // çŸ­ä¼‘æ¯ (åˆ†é˜)
    longBreakDuration: number   // é•·ä¼‘æ¯ (åˆ†é˜)
    sessionsUntilLongBreak: number
  }
  
  // ç•¶å‰ç‹€æ…‹
  currentState: 'idle' | 'working' | 'shortBreak' | 'longBreak' | 'paused'
  currentSession: number
  startTime: Date
  endTime?: Date
  timeRemaining: number
  
  // çµ±è¨ˆæ•¸æ“š
  stats: {
    completedSessions: number
    totalWorkTime: number      // ç¸½å·¥ä½œæ™‚é–“ (åˆ†é˜)
    totalBreakTime: number     // ç¸½ä¼‘æ¯æ™‚é–“ (åˆ†é˜)
    interruptionCount: number  // ä¸­æ–·æ¬¡æ•¸
  }
  
  // å¥åº·æé†’
  healthReminders: {
    eyeRestEnabled: boolean
    postureReminderEnabled: boolean
    hydrationReminderEnabled: boolean
    lastHealthCheck: Date
  }
}

// éŸ³æ•ˆè¨­å®š
interface AudioSettings {
  userId: string
  
  sounds: {
    workStart: string          // å·¥ä½œé–‹å§‹éŸ³æ•ˆ
    workEnd: string           // å·¥ä½œçµæŸéŸ³æ•ˆ
    breakStart: string        // ä¼‘æ¯é–‹å§‹éŸ³æ•ˆ
    breakEnd: string          // ä¼‘æ¯çµæŸéŸ³æ•ˆ
    healthReminder: string    // å¥åº·æé†’éŸ³æ•ˆ
  }
  
  volume: number              // éŸ³é‡ (0-1)
  enabled: boolean
}
```

### æ—¥æ›†æ•¸æ“šæ¨¡å‹

```typescript
// æ—¥æ›†äº‹ä»¶
interface CalendarEvent {
  id: string
  userId: string
  projectId?: string
  
  // äº‹ä»¶åŸºæœ¬ä¿¡æ¯
  title: string
  description?: string
  type: 'deadline' | 'meeting' | 'work_block' | 'reminder' | 'milestone'
  
  // æ™‚é–“è¨­å®š
  startDate: Date
  endDate?: Date
  allDay: boolean
  
  // é‡è¤‡è¨­å®š
  recurrence?: {
    type: 'daily' | 'weekly' | 'monthly'
    interval: number
    endDate?: Date
  }
  
  // æé†’è¨­å®š
  reminders: {
    type: 'popup' | 'email' | 'sound'
    minutesBefore: number
  }[]
  
  // å°ˆæ¡ˆé—œè¯
  projectMilestone?: {
    milestoneType: 'start' | 'phase' | 'deadline' | 'review'
    criticalPath: boolean
  }
  
  status: 'scheduled' | 'in_progress' | 'completed' | 'cancelled'
  createdAt: Date
  updatedAt: Date
}

// ç°¡åŒ–æ–‡å­—æé†’
interface SimpleTextReminder {
  id: string
  userId: string
  
  // æé†’å…§å®¹
  message: string
  emoji?: string
  priority: 'low' | 'medium' | 'high'
  
  // è§¸ç™¼æ¢ä»¶
  triggers: {
    timeOfDay?: string        // "09:00"
    daysOfWeek?: number[]     // [1,2,3,4,5] (é€±ä¸€åˆ°é€±äº”)
    projectDeadline?: number  // æˆªæ­¢æ—¥æœŸå‰ N å¤©
    taskCount?: number        // å¾…è¾¦ä»»å‹™è¶…é N å€‹
  }
  
  // é¡¯ç¤ºè¨­å®š
  displayDuration: number     // é¡¯ç¤ºæ™‚é–“ (ç§’)
  autoSnooze: boolean
  snoozeMinutes: number
  
  enabled: boolean
  lastTriggered?: Date
}
```

## AI åˆ†æç®—æ³•è¨­è¨ˆ

### 1. é€²åº¦åˆ†æç®—æ³•

```typescript
class ProgressAnalyzer {
  // è¨ˆç®—å°ˆæ¡ˆå®Œæˆç‡è¶¨å‹¢
  analyzeCompletionTrend(project: Project, todos: Todo[]): ProgressMetrics {
    const totalTasks = todos.length
    const completedTasks = todos.filter(t => t.completed).length
    const currentRate = completedTasks / totalTasks
    
    // åŸºæ–¼æ­·å²æ•¸æ“šè¨ˆç®—é€Ÿåº¦
    const historicalData = this.getHistoricalProgress(project.id)
    const velocity = this.calculateVelocity(historicalData)
    
    // é æ¸¬å®Œæˆæ™‚é–“
    const remainingTasks = totalTasks - completedTasks
    const estimatedDaysToComplete = remainingTasks / velocity
    
    return {
      completionRate: currentRate,
      velocity,
      burndownRate: this.calculateBurndownRate(historicalData),
      timeRemaining: estimatedDaysToComplete
    }
  }
  
  // è­˜åˆ¥å·¥ä½œæ¨¡å¼
  identifyWorkingPatterns(userId: string): WorkingPatterns {
    const activityData = this.getUserActivityData(userId)
    
    return {
      workingHours: this.findOptimalWorkingHours(activityData),
      productiveDay: this.identifyProductiveDays(activityData),
      taskDifficulty: this.analyzeTaskComplexity(activityData),
      procrastinationTrend: this.calculateProcrastinationScore(activityData)
    }
  }
}
```

### 2. é¢¨éšªè©•ä¼°ç®—æ³•

```typescript
class RiskAssessment {
  // è©•ä¼°å°ˆæ¡ˆå»¶é²é¢¨éšª
  assessDelay Risk(analysis: ProjectAnalysis, project: Project): RiskLevel {
    const factors = []
    let riskScore = 0
    
    // æ™‚é–“å› ç´ 
    const daysUntilDeadline = this.getDaysUntilDeadline(project)
    const estimatedTimeNeeded = analysis.progressMetrics.timeRemaining
    
    if (estimatedTimeNeeded > daysUntilDeadline) {
      riskScore += 0.4
      factors.push('æ™‚é–“ä¸è¶³')
    }
    
    // é€Ÿåº¦å› ç´ 
    if (analysis.progressMetrics.velocity < 0.5) {
      riskScore += 0.3
      factors.push('å®Œæˆé€Ÿåº¦éæ…¢')
    }
    
    // æ‹–å»¶å› ç´ 
    if (analysis.patterns.procrastinationTrend > 0.7) {
      riskScore += 0.2
      factors.push('æ‹–å»¶è¶¨å‹¢å¢åŠ ')
    }
    
    // ä»»å‹™è¤‡é›œåº¦
    const complexTaskRatio = this.getComplexTaskRatio(project)
    if (complexTaskRatio > 0.6) {
      riskScore += 0.1
      factors.push('è¤‡é›œä»»å‹™æ¯”ä¾‹éé«˜')
    }
    
    return this.determineRiskLevel(riskScore, factors)
  }
  
  // ç”Ÿæˆ AI å»ºè­°
  generateRecommendations(riskAssessment: RiskAssessment): string[] {
    const recommendations = []
    
    if (riskAssessment.overallRisk === 'high') {
      recommendations.push('å»ºè­°é‡æ–°å®‰æ’å°ˆæ¡ˆæ™‚ç¨‹')
      recommendations.push('è€ƒæ…®å°‡å¤§ä»»å‹™åˆ†è§£ç‚ºå°ä»»å‹™')
      recommendations.push('å¢åŠ æ¯æ—¥å·¥ä½œæ™‚é–“')
    }
    
    if (riskAssessment.riskFactors.includes('æ‹–å»¶è¶¨å‹¢å¢åŠ ')) {
      recommendations.push('ä½¿ç”¨ç•ªèŒ„é˜æŠ€å·§æå‡å°ˆæ³¨åŠ›')
      recommendations.push('è¨­å®šçŸ­æœŸé‡Œç¨‹ç¢‘å¢åŠ æˆå°±æ„Ÿ')
    }
    
    return recommendations
  }
}
```

## ç•ªèŒ„é˜ç³»çµ±è¨­è¨ˆ

### 1. è¨ˆæ™‚å™¨æ ¸å¿ƒ

```typescript
class PomodoroTimer {
  private intervalId: number | null = null
  private currentSession: PomodoroSession
  private onTick: (timeRemaining: number) => void
  private onStateChange: (newState: PomodoroState) => void
  
  start(session: PomodoroSession): void {
    this.currentSession = session
    this.currentSession.startTime = new Date()
    this.currentSession.currentState = 'working'
    
    this.intervalId = setInterval(() => {
      this.tick()
    }, 1000)
    
    // æ’­æ”¾é–‹å§‹éŸ³æ•ˆ
    this.audioManager.play('workStart')
  }
  
  pause(): void {
    if (this.intervalId) {
      clearInterval(this.intervalId)
      this.intervalId = null
      this.currentSession.currentState = 'paused'
    }
  }
  
  private tick(): void {
    this.currentSession.timeRemaining -= 1
    this.onTick(this.currentSession.timeRemaining)
    
    // æª¢æŸ¥æ˜¯å¦éœ€è¦åˆ‡æ›ç‹€æ…‹
    if (this.currentSession.timeRemaining <= 0) {
      this.handleStateTransition()
    }
    
    // å¥åº·æé†’æª¢æŸ¥
    this.checkHealthReminders()
  }
  
  private handleStateTransition(): void {
    const { currentState, currentSession, settings } = this.currentSession
    
    switch (currentState) {
      case 'working':
        this.currentSession.stats.completedSessions++
        this.audioManager.play('workEnd')
        
        // æ±ºå®šä¼‘æ¯é¡å‹
        if (currentSession % settings.sessionsUntilLongBreak === 0) {
          this.startBreak('longBreak', settings.longBreakDuration)
        } else {
          this.startBreak('shortBreak', settings.shortBreakDuration)
        }
        break
        
      case 'shortBreak':
      case 'longBreak':
        this.audioManager.play('breakEnd')
        this.startWork()
        break
    }
  }
  
  private checkHealthReminders(): void {
    const { healthReminders, startTime } = this.currentSession
    const currentTime = new Date()
    const sessionDuration = (currentTime.getTime() - startTime.getTime()) / 1000 / 60
    
    // æ¯20åˆ†é˜æé†’çœ¼éƒ¨ä¼‘æ¯
    if (healthReminders.eyeRestEnabled && sessionDuration % 20 === 0) {
      this.showHealthReminder('eye_rest')
    }
    
    // æ¯30åˆ†é˜æé†’èµ·èº«æ´»å‹•
    if (healthReminders.postureReminderEnabled && sessionDuration % 30 === 0) {
      this.showHealthReminder('posture')
    }
  }
}
```

### 2. å¥åº·æé†’ç³»çµ±

```typescript
class HealthReminderSystem {
  private reminders = {
    eye_rest: {
      title: 'çœ¼éƒ¨ä¼‘æ¯æé†’',
      message: 'çœ‹é æ–¹20ç§’ï¼Œè®“çœ¼ç›æ”¾é¬†ä¸€ä¸‹',
      emoji: 'ğŸ‘€',
      duration: 20000 // 20ç§’
    },
    posture: {
      title: 'å§¿å‹¢æé†’',
      message: 'èµ·èº«ä¼¸å±•ï¼Œæ´»å‹•ä¸€ä¸‹èº«é«”',
      emoji: 'ğŸ§˜â€â™€ï¸',
      duration: 60000 // 1åˆ†é˜
    },
    hydration: {
      title: 'è£œæ°´æé†’',
      message: 'è¨˜å¾—å–æ°´ï¼Œä¿æŒèº«é«”æ°´åˆ†',
      emoji: 'ğŸ’§',
      duration: 15000 // 15ç§’
    }
  }
  
  showReminder(type: keyof typeof this.reminders): void {
    const reminder = this.reminders[type]
    
    // é¡¯ç¤ºæé†’é€šçŸ¥
    this.notificationService.show({
      title: reminder.title,
      message: reminder.message,
      emoji: reminder.emoji,
      type: 'health',
      duration: reminder.duration,
      actions: [
        { label: 'å®Œæˆ', action: 'dismiss' },
        { label: 'ç¨å¾Œæé†’', action: 'snooze' }
      ]
    })
    
    // æ’­æ”¾å¥åº·æé†’éŸ³æ•ˆ
    this.audioManager.play('healthReminder')
  }
  
  scheduleHydrationReminders(): void {
    // æ¯å°æ™‚æé†’å–æ°´
    setInterval(() => {
      this.showReminder('hydration')
    }, 60 * 60 * 1000)
  }
}
```

## æ—¥æ›†ç³»çµ±è¨­è¨ˆ

### 1. æ™ºèƒ½æ—¥ç¨‹å®‰æ’

```typescript
class SmartScheduler {
  // åŸºæ–¼ AI åˆ†æå®‰æ’æœ€ä½³å·¥ä½œæ™‚é–“
  suggestOptimalWorkTime(
    userId: string, 
    task: Todo, 
    analysis: ProjectAnalysis
  ): Date[] {
    const userPatterns = analysis.patterns
    const availableSlots = this.getAvailableTimeSlots(userId)
    
    // æ ¹æ“šä»»å‹™è¤‡é›œåº¦åŒ¹é…ç”¨æˆ¶é«˜æ•ˆæ™‚æ®µ
    const taskComplexity = this.estimateTaskComplexity(task)
    const optimalHours = this.matchComplexityToOptimalHours(
      taskComplexity, 
      userPatterns.workingHours
    )
    
    return availableSlots.filter(slot => 
      this.isWithinOptimalHours(slot, optimalHours)
    )
  }
  
  // è‡ªå‹•è¨­å®šå°ˆæ¡ˆé‡Œç¨‹ç¢‘
  generateProjectMilestones(project: Project, todos: Todo[]): CalendarEvent[] {
    const milestones: CalendarEvent[] = []
    const totalTasks = todos.length
    const quarterMarks = [0.25, 0.5, 0.75, 1.0]
    
    quarterMarks.forEach((mark, index) => {
      const milestone: CalendarEvent = {
        id: crypto.randomUUID(),
        userId: project.userId,
        projectId: project.id,
        title: `${project.name} - ${this.getMilestoneLabel(mark)}`,
        type: 'milestone',
        startDate: this.calculateMilestoneDate(project, mark),
        allDay: true,
        projectMilestone: {
          milestoneType: mark === 1.0 ? 'deadline' : 'phase',
          criticalPath: true
        },
        reminders: [
          { type: 'popup', minutesBefore: 1440 }, // 1å¤©å‰
          { type: 'popup', minutesBefore: 60 }    // 1å°æ™‚å‰
        ],
        status: 'scheduled',
        createdAt: new Date(),
        updatedAt: new Date()
      }
      
      milestones.push(milestone)
    })
    
    return milestones
  }
}
```

### 2. ç°¡åŒ–æ–‡å­—æé†’ç³»çµ±

```typescript
class SimpleReminderEngine {
  private templates = {
    morning_start: {
      message: "æ—©å®‰ï¼æº–å‚™é–‹å§‹ä»Šå¤©çš„å·¥ä½œäº†å—ï¼Ÿ",
      emoji: "ğŸŒ…",
      triggers: { timeOfDay: "09:00", daysOfWeek: [1,2,3,4,5] }
    },
    lunch_break: {
      message: "è©²ä¼‘æ¯åƒåˆé¤äº†ï¼",
      emoji: "ğŸ½ï¸",
      triggers: { timeOfDay: "12:00" }
    },
    deadline_approaching: {
      message: "å°ˆæ¡ˆæˆªæ­¢æ—¥æœŸå‰©ä¸‹ {days} å¤©",
      emoji: "â°",
      triggers: { projectDeadline: 3 }
    },
    task_overload: {
      message: "å¾…è¾¦äº‹é …æœ‰é»å¤šï¼Œè¦ä¸è¦å…ˆè™•ç†å„ªå…ˆç´šé«˜çš„ï¼Ÿ",
      emoji: "ğŸ“‹",
      triggers: { taskCount: 10 }
    },
    end_of_day: {
      message: "ä»Šå¤©è¾›è‹¦äº†ï¼è¨˜å¾—ä¿å­˜å·¥ä½œé€²åº¦",
      emoji: "ğŸŒ™",
      triggers: { timeOfDay: "18:00" }
    }
  }
  
  generateDynamicReminder(
    template: string, 
    context: Record<string, any>
  ): SimpleTextReminder {
    const reminderTemplate = this.templates[template]
    
    return {
      id: crypto.randomUUID(),
      userId: context.userId,
      message: this.interpolateMessage(reminderTemplate.message, context),
      emoji: reminderTemplate.emoji,
      priority: 'medium',
      triggers: reminderTemplate.triggers,
      displayDuration: 5,
      autoSnooze: true,
      snoozeMinutes: 30,
      enabled: true
    }
  }
  
  private interpolateMessage(message: string, context: Record<string, any>): string {
    return message.replace(/\{(\w+)\}/g, (match, key) => {
      return context[key]?.toString() || match
    })
  }
}
```

## é€šçŸ¥ç³»çµ±æ¶æ§‹

### 1. çµ±ä¸€é€šçŸ¥ç®¡ç†

```typescript
class NotificationManager {
  private notifications: Map<string, Notification> = new Map()
  private priorityQueue: PriorityQueue<Notification> = new PriorityQueue()
  
  // çµ±ä¸€é€šçŸ¥ä»‹é¢
  notify(notification: NotificationRequest): void {
    const processedNotification = this.processNotification(notification)
    
    // æ ¹æ“šå„ªå…ˆç´šå’Œç”¨æˆ¶åå¥½æ±ºå®šé¡¯ç¤ºæ–¹å¼
    const displayMethod = this.determineDisplayMethod(processedNotification)
    
    switch (displayMethod) {
      case 'popup':
        this.showPopupNotification(processedNotification)
        break
      case 'banner':
        this.showBannerNotification(processedNotification)
        break
      case 'sound':
        this.playNotificationSound(processedNotification)
        break
      case 'silent':
        this.logSilentNotification(processedNotification)
        break
    }
  }
  
  // æ™ºèƒ½é€šçŸ¥é »ç‡æ§åˆ¶
  private shouldShowNotification(notification: Notification): boolean {
    const recentNotifications = this.getRecentNotifications(notification.type)
    const frequency = this.calculateNotificationFrequency(recentNotifications)
    
    // é¿å…é€šçŸ¥ç–²å‹
    if (frequency > this.getMaxFrequency(notification.type)) {
      return false
    }
    
    // æª¢æŸ¥ç”¨æˆ¶å…æ‰“æ“¾æ™‚é–“
    if (this.isInDoNotDisturbPeriod()) {
      return notification.priority === 'urgent'
    }
    
    return true
  }
}

interface NotificationRequest {
  type: 'ai_recommendation' | 'pomodoro' | 'calendar' | 'health' | 'project_alert'
  priority: 'low' | 'medium' | 'high' | 'urgent'
  title: string
  message: string
  emoji?: string
  actions?: NotificationAction[]
  metadata?: Record<string, any>
}
```

## çµ„ä»¶æ•´åˆè¨­è¨ˆ

### 1. ä¸»è¦çµ„ä»¶çµæ§‹

```
æ™ºèƒ½å·¥ä½œå°çµ„ä»¶
â”œâ”€â”€ AIInsightsPanel          (AI åˆ†æé¢æ¿)
â”‚   â”œâ”€â”€ ProjectRiskIndicator (å°ˆæ¡ˆé¢¨éšªæŒ‡ç¤ºå™¨)
â”‚   â”œâ”€â”€ RecommendationList   (å»ºè­°åˆ—è¡¨)
â”‚   â””â”€â”€ ProgressChart        (é€²åº¦åœ–è¡¨)
â”œâ”€â”€ PomodoroWidget          (ç•ªèŒ„é˜å°å·¥å…·)
â”‚   â”œâ”€â”€ TimerDisplay        (è¨ˆæ™‚å™¨é¡¯ç¤º)
â”‚   â”œâ”€â”€ SessionControls     (æœƒè©±æ§åˆ¶)
â”‚   â”œâ”€â”€ HealthReminders     (å¥åº·æé†’)
â”‚   â””â”€â”€ StatsSummary        (çµ±è¨ˆæ‘˜è¦)
â”œâ”€â”€ SmartCalendar           (æ™ºèƒ½æ—¥æ›†)
â”‚   â”œâ”€â”€ MiniCalendar        (è¿·ä½ æ—¥æ›†)
â”‚   â”œâ”€â”€ UpcomingEvents      (å³å°‡åˆ°ä¾†çš„äº‹ä»¶)
â”‚   â”œâ”€â”€ MilestoneTimeline   (é‡Œç¨‹ç¢‘æ™‚é–“ç·š)
â”‚   â””â”€â”€ QuickScheduler      (å¿«é€Ÿå®‰æ’)
â””â”€â”€ NotificationCenter      (é€šçŸ¥ä¸­å¿ƒ)
    â”œâ”€â”€ ActiveNotifications (æ´»å‹•é€šçŸ¥)
    â”œâ”€â”€ ReminderQueue       (æé†’ä½‡åˆ—)
    â””â”€â”€ SettingsPanel       (è¨­å®šé¢æ¿)
```

### 2. éŸ¿æ‡‰å¼è¨­è¨ˆé©é…

```typescript
// éŸ¿æ‡‰å¼çµ„ä»¶é…ç½®
const ResponsiveLayout = {
  desktop: {
    aiPanel: { width: '300px', position: 'sidebar' },
    pomodoro: { width: '250px', position: 'header' },
    calendar: { width: '100%', position: 'main' },
    notifications: { position: 'floating' }
  },
  tablet: {
    aiPanel: { width: '100%', position: 'collapsible' },
    pomodoro: { width: '200px', position: 'header' },
    calendar: { width: '100%', position: 'main' },
    notifications: { position: 'overlay' }
  },
  mobile: {
    aiPanel: { width: '100%', position: 'modal' },
    pomodoro: { width: '100%', position: 'bottom' },
    calendar: { width: '100%', position: 'main' },
    notifications: { position: 'toast' }
  }
}
```

## å¯¦æ–½è¨ˆåŠƒ

### éšæ®µ 1: æ ¸å¿ƒåŸºç¤ (2-3 é€±)
1. **AI åˆ†æå¼•æ“åŸºç¤**
   - é€²åº¦åˆ†æç®—æ³•
   - åŸºæœ¬é¢¨éšªè©•ä¼°
   - æ•¸æ“šæ”¶é›†æ©Ÿåˆ¶

2. **ç•ªèŒ„é˜æ ¸å¿ƒåŠŸèƒ½**
   - åŸºæœ¬è¨ˆæ™‚å™¨
   - æœƒè©±ç®¡ç†
   - éŸ³æ•ˆç³»çµ±

3. **ç°¡å–®æ—¥æ›†æ•´åˆ**
   - åŸºæœ¬äº‹ä»¶ç®¡ç†
   - æé†’ç³»çµ±

### éšæ®µ 2: æ™ºèƒ½åŠŸèƒ½ (3-4 é€±)
1. **AI å»ºè­°ç³»çµ±**
   - æ™ºèƒ½å»ºè­°ç”Ÿæˆ
   - å­¸ç¿’ç®—æ³•å¯¦ç¾
   - é¢¨éšªé è­¦

2. **å¥åº·æé†’ç³»çµ±**
   - å¥åº·æé†’é‚è¼¯
   - å€‹æ€§åŒ–è¨­å®š
   - çµ±è¨ˆè¿½è¸ª

3. **æ™ºèƒ½æ—¥ç¨‹å®‰æ’**
   - æœ€ä½³æ™‚é–“æ¨è–¦
   - è‡ªå‹•é‡Œç¨‹ç¢‘ç”Ÿæˆ

### éšæ®µ 3: æ•´åˆå„ªåŒ– (2-3 é€±)
1. **ç³»çµ±æ•´åˆ**
   - çµ„ä»¶é–“é€šä¿¡
   - æ•¸æ“šåŒæ­¥
   - æ€§èƒ½å„ªåŒ–

2. **ç”¨æˆ¶é«”é©—å„ªåŒ–**
   - éŸ¿æ‡‰å¼è¨­è¨ˆ
   - å‹•ç•«æ•ˆæœ
   - ç„¡éšœç¤™æ”¯æŒ

3. **æ¸¬è©¦èˆ‡éƒ¨ç½²**
   - å–®å…ƒæ¸¬è©¦
   - æ•´åˆæ¸¬è©¦
   - ç”¨æˆ¶æ¸¬è©¦

## æŠ€è¡“è€ƒé‡

### æ€§èƒ½å„ªåŒ–
- **æ•¸æ“šç·©å­˜**: ä½¿ç”¨ IndexedDB ç·©å­˜ AI åˆ†æçµæœ
- **è¨ˆç®—å„ªåŒ–**: Web Workers è™•ç†è¤‡é›œç®—æ³•
- **å…§å­˜ç®¡ç†**: åŠæ™‚æ¸…ç†è¨ˆæ™‚å™¨å’Œäº‹ä»¶ç›£è½å™¨

### éš±ç§ä¿è­·
- **æœ¬åœ°å­˜å„²**: æ‰€æœ‰ AI åˆ†æåœ¨å®¢æˆ¶ç«¯é€²è¡Œ
- **æ•¸æ“šåŠ å¯†**: æ•æ„Ÿæ•¸æ“šæœ¬åœ°åŠ å¯†å­˜å„²
- **ç”¨æˆ¶æ§åˆ¶**: å®Œå…¨çš„æ•¸æ“šæ§åˆ¶æ¬Š

### æ“´å±•æ€§è¨­è¨ˆ
- **æ¨¡çµ„åŒ–æ¶æ§‹**: ä¾¿æ–¼åŠŸèƒ½æ“´å±•
- **æ’ä»¶ç³»çµ±**: æ”¯æŒç¬¬ä¸‰æ–¹é›†æˆ
- **API è¨­è¨ˆ**: é ç•™å¤–éƒ¨æ•¸æ“šæºæ¥å£

é€™å€‹è¨­è¨ˆæä¾›äº†å®Œæ•´çš„æ™ºèƒ½å°ˆæ¡ˆç›£æ§è§£æ±ºæ–¹æ¡ˆï¼Œçµåˆ AI åˆ†æã€ç•ªèŒ„é˜å·¥ä½œæ³•å’Œæ™ºèƒ½æ—¥æ›†ï¼Œå¹«åŠ©ç”¨æˆ¶æå‡å·¥ä½œæ•ˆç‡ä¸¦é¿å…å°ˆæ¡ˆå»¶é²ã€‚